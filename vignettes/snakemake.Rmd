---
title: snakemake
output:
  html_document:
    mathjax:  default
    fig_caption:  true
    toc: true
    section_numbering: true
bibliography: bioc.bib
link-citations: yes
csl: nature-genetics.csl
vignette: >
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteIndexEntry{Bioconductor Applications}
  %\VignetteEncoding{UTF-8}
---

```{r logo, echo = FALSE, include=FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "snakemake/"
)
```
# A CVD1/INF1 protein-HF analysis

A total of 27 proteins were identified from the Olink/cvd1 panel overlapped with inf1. The following script furnishes run on CSD3 (no --use-conda option for `snakemake` as all R packages are locally available).

## setup

```{bash setup}
module load miniconda3/4.5.1
export mypath=${HOME}/COVID-19/miniconda37
conda activate ${mypath}
cd ${HOME}/pQTLtools/inst/snakemake
```

## dry-run

```{bash dry-run}
snakemake -n
```

## run

```{bash run}
snakemake -c all
```

which gives `results`/`Observational.csv` (observational results) and `MR_aggregate.csv` (MR results).

## Additional information

See [work/README.Rmd](work/README.Rmd) for steps to set up the environment, and `config.yaml` is modified to use `MendelianRandomization` v0.6.0 with a bug in `workflow/scripts/MR_functions.R` being fixed.

## References
